<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ğŸ’˜ Will You Be My Valentine?</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;600;700&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
  *{ box-sizing:border-box; }

  body{
    margin:0;
    min-height:100vh;
    display:grid;
    place-items:center;
    font-family:"Poppins",sans-serif;
    background:
      radial-gradient(circle at 20% 20%, #ffd1e6, transparent 40%),
      radial-gradient(circle at 80% 0%, #ffc0d9, transparent 45%),
      linear-gradient(180deg,#ffe4ef,#fff0f6);
    overflow:hidden;
  }

  /* PAGE 1 */
  .card{
    width:min(560px,92vw);
    background:rgba(255,255,255,0.92);
    border-radius:24px;
    padding:28px 22px;
    box-shadow:0 18px 50px rgba(255,105,180,0.25);
    text-align:center;
  }

  h1{
    font-family:"Pacifico",cursive;
    font-size:clamp(30px,5vw,42px);
    color:#ff2e7a;
    margin:6px 0 14px;
  }

  p{ margin:0 0 16px; color:#b33c70; font-weight:600; }

  .stage{
    position:relative;
    height:230px;
    border-radius:18px;
    background:linear-gradient(180deg,#ffe0ec,#fff4f8);
    border:2px dashed #ff9fc2;
    overflow:hidden;
  }

  /* Make buttons consistent across mobile browsers */
  .btn{
    -webkit-appearance:none;
    appearance:none;
    border:none;
    padding:14px 22px;
    border-radius:999px;
    font-weight:800;
    font-size:16px;
    cursor:pointer;
    position:absolute;
    box-shadow:0 10px 22px rgba(255,0,120,.22);
    touch-action:manipulation;
    transition:transform .15s ease, filter .15s ease;
    outline:none;
  }
  .btn:hover{ transform:scale(1.06); }
  .btn:active{ transform:scale(0.98); }

  #yesBtn{
    left:50%;
    top:60%;
    transform:translate(-120%,-50%);
    background:linear-gradient(45deg,#ff2e7a,#ff6aa7);
    color:#fff;
  }

  #noBtn{
    left:50%;
    top:60%;
    transform:translate(20%,-50%);
    background:#ffb6d2;
    color:#fff;          /* âœ… force text color */
  }
  #noBtn:focus,
  #noBtn:active{
    color:#7a003b;          /* âœ… prevent â€œblueâ€ focus color */
  }

  /* PAGE 2 FULLSCREEN */
  #page2{
    position:fixed;
    top:0;
    left:0;
    width:100vw;
    height:100vh;
    display:none;
    background:#000;
    z-index:50;
    overflow:hidden;
  }

  /* TRUE FULLSCREEN VIDEO */
  #valVideo{
    position:absolute;
    top:0;
    left:0;
    width:100vw;
    height:100vh;
    object-fit:cover;
    background:#000;
  }

  /* OVERLAY */
  #overlay{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
    background:rgba(0,0,0,0.35);
    padding: max(18px, env(safe-area-inset-top)) 18px max(18px, env(safe-area-inset-bottom));
  }

  /* âœ… Scrollable message box so nothing gets cut */
  #loveText{
    color:#fff;
    font-family:'Quicksand', sans-serif;
    font-size:clamp(16px,4.3vw,24px);
    line-height:1.7;
    max-width:min(720px, 92vw);
    max-height: calc(100vh - 120px);   /* âœ… prevents top/bottom clipping */
    overflow:auto;                      /* âœ… scroll if too long */
    padding:18px 16px;
    border-radius:18px;
    background:rgba(0,0,0,0.25);
    text-shadow:0 6px 18px rgba(0,0,0,0.6);
    -webkit-overflow-scrolling:touch;
  }

  /* TAP BUTTON */
  #tapStart{
    position:absolute;
    inset:0;
    display:none;
    align-items:center;
    justify-content:center;
    z-index:60;
  }

  .pill{
    background:white;
    padding:14px 20px;
    border-radius:999px;
    font-weight:900;
    color:#ff2e7a;
    box-shadow:0 12px 30px rgba(0,0,0,.25);
  }

  /* Hidden YouTube player */
  #ytWrap{
    position:fixed;
    left:-9999px;
    top:-9999px;
    width:360px;
    height:240px;
  }
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="card" id="page1">
  <h1>Will you be my Valentine? ğŸ’˜</h1>
  <p>(There is only one correct choice ğŸ˜ŒğŸ’•)</p>

  <div class="stage" id="stage">
    <button id="yesBtn" class="btn">Yes ğŸ’–</button>
    <button id="noBtn" class="btn">No ğŸ™ˆ</button>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2">
  <video id="valVideo" playsinline loop preload="auto" muted>
    <source src="valentine.mp4" type="video/mp4">
  </video>

  <div id="tapStart"><div class="pill">Tap to start ğŸ”ŠğŸ¶ğŸ’—</div></div>

  <div id="overlay">
    <div id="loveText">
      Happy Valentineâ€™s Day, my LIRDU BISWAS â¤ï¸ğŸŒ¹<br><br>

      Six yearsâ€¦ CRAZY CRAZY ho gaya! ğŸ˜„âœ¨<br>
      And even now, every day with you still feels like a fresh scene from our Ghatkopar Agent Jackâ€™s mulaqat â€”<br>
      full of warmth, laughter, and that â€œhum tum kitne paas hain, jitne door hain chaand sitaareâ€ feeling. ğŸ’<br><br>

      I know I canâ€™t be there beside you today,<br>
      and Iâ€™m sorry, cupcakeâ€¦ but donâ€™t you worry â€”<br>
      because in just TWO WEEKS, Jim and Pam will be PB&J! Full pachis. ğŸ˜Œâ¤ï¸<br><br>

      Then weâ€™ll celebrate properly â€” 48 uninterrupted hours and 34 eternal kisses,<br>
      long tight hugs, your smile, and me staring at you like the background music from <em>Main Hoon Na</em> just started. ğŸ¶ğŸ¥°<br><br>

      Thank you for loving me, supporting me,<br>
      and being my safe place through everything. ğŸ¤<br><br>

      I love you â€” today, tomorrow, and alwaysâ€¦<br>
      and in every universe, itâ€™s still you. â™¾ï¸ğŸ’•<br><br>

      <small>â€” Also sorry for the bad background musicâ€¦ this was the only free music available ğŸ˜… â€”</small>
    </div>
  </div>
</div>

<div id="ytWrap"><div id="ytPlayer"></div></div>

<script>
const YOUTUBE_VIDEO_ID = "lplaAZBWiqY";

const stage = document.getElementById("stage");
const noBtn  = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");

const page1 = document.getElementById("page1");
const page2 = document.getElementById("page2");
const video = document.getElementById("valVideo");
const tapStart = document.getElementById("tapStart");

/* NO button dodge */
function moveNo(){
  const s = stage.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();
  const x = Math.random() * (s.width - b.width - 20) + 10;
  const y = Math.random() * (s.height - b.height - 20) + 10;
  noBtn.style.left = x + "px";
  noBtn.style.top  = y + "px";
  noBtn.style.transform = "none";
}
noBtn.addEventListener("mouseenter", moveNo);
noBtn.addEventListener("pointerdown", e => { e.preventDefault(); moveNo(); });

/* YouTube music */
let ytPlayer = null;

function loadYT(){
  if (window.__ytLoaded) return;
  window.__ytLoaded = true;
  const tag = document.createElement("script");
  tag.src = "https://www.youtube.com/iframe_api";
  document.head.appendChild(tag);
}

function playYouTubeMusic(){
  loadYT();

  const start = () => {
    if (!window.YT || !YT.Player) { setTimeout(start, 200); return; }

    if (!ytPlayer) {
      ytPlayer = new YT.Player("ytPlayer",{
        videoId: YOUTUBE_VIDEO_ID,
        playerVars:{
          autoplay:1,
          controls:0,
          loop:1,
          playlist:YOUTUBE_VIDEO_ID,
          playsinline:1
        },
        events:{
          onReady:()=>{
            try{
              ytPlayer.setVolume(80);
              ytPlayer.playVideo();
            }catch{}
          }
        }
      });
    } else {
      try{ ytPlayer.playVideo(); }catch{}
    }
  };

  start();
}

async function startExperience(){
  page1.style.display = "none";
  page2.style.display = "block";

  video.load();

  try { await video.play(); } catch {}

  video.muted = false;
  video.volume = 1;

  let ok = true;
  try { await video.play(); }
  catch {
    ok = false;
    video.controls = true;
  }

  playYouTubeMusic();

  if(!ok) tapStart.style.display = "flex";
}

yesBtn.addEventListener("click", startExperience);

tapStart.addEventListener("pointerdown", async () => {
  tapStart.style.display = "none";
  try { video.muted = false; await video.play(); }
  catch { tapStart.style.display = "flex"; }

  try { ytPlayer && ytPlayer.playVideo(); } catch {}
});
</script>

</body>
</html>

