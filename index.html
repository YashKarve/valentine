<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ğŸ’˜ Will You Be My Valentine?</title>

<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:"Poppins",sans-serif;
  background:
    radial-gradient(circle at 20% 20%, #ffd1e6, transparent 40%),
    radial-gradient(circle at 80% 0%, #ffc0d9, transparent 45%),
    linear-gradient(180deg,#ffe4ef,#fff0f6);
  overflow:hidden;
}

/* PAGE 1 */
.card{
  width:min(560px,92vw);
  background:rgba(255,255,255,0.9);
  border-radius:24px;
  padding:28px 22px;
  box-shadow:0 18px 50px rgba(255,105,180,0.25);
  text-align:center;
}

h1{
  font-family:"Pacifico",cursive;
  font-size:clamp(30px,5vw,42px);
  color:#ff2e7a;
}

.stage{
  position:relative;
  height:230px;
  border-radius:18px;
  background:linear-gradient(180deg,#ffe0ec,#fff4f8);
  border:2px dashed #ff9fc2;
  overflow:hidden;
}

.btn{
  border:none;
  padding:14px 22px;
  border-radius:999px;
  font-weight:800;
  font-size:16px;
  cursor:pointer;
  position:absolute;
}

#yesBtn{
  left:50%;
  top:60%;
  transform:translate(-120%,-50%);
  background:#ff2e7a;
  color:#fff;
}

#noBtn{
  left:50%;
  top:60%;
  transform:translate(20%,-50%);
  background:#ffb6d2;
}

/* PAGE 2 */
#page2{
  position:fixed;
  inset:0;
  display:none;
  background:#000;
  z-index:50;

  /* CENTER EVERYTHING */
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
}

/* CENTERED VIDEO */
#valVideo{
  position:absolute;
  top:0;
  left:0;
  width:100vw;
  height:100vh;
  object-fit:cover;   /* fills entire screen */
  transform:none;     /* âŒ remove scale */
}

/* TEXT OVERLAY */
#overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  padding:18px 16px;
  background:linear-gradient(to top,rgba(0,0,0,.65),transparent 60%);
}

#loveText{
  color:#fff;
  font-size:clamp(16px,4vw,22px);
  font-weight:800;
}

/* TAP BUTTON */
#tapStart{
  position:absolute;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  z-index:60;
}

.pill{
  background:white;
  padding:14px 20px;
  border-radius:999px;
  font-weight:900;
  color:#ff2e7a;
}

/* Hidden YouTube player */
#ytWrap{
  position:fixed;
  left:-9999px;
  top:-9999px;
  width:360px;
  height:240px;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="card" id="page1">
  <h1>Will you be my Valentine? ğŸ’˜</h1>

  <div class="stage" id="stage">
    <button id="yesBtn" class="btn">Yes ğŸ’–</button>
    <button id="noBtn" class="btn">No ğŸ™ˆ</button>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2">

  <video id="valVideo" playsinline loop preload="auto" muted>
    <source src="valentine.mp4" type="video/mp4">
  </video>

  <div id="tapStart"><div class="pill">Tap to start ğŸ”ŠğŸ¶ğŸ’—</div></div>

  <div id="overlay">
    <div id="loveText">
      YAY!! ğŸ’– Iâ€™m so lucky to have you. Happy Valentineâ€™s, my love ğŸŒ¹ğŸ¥°
    </div>
  </div>

</div>

<div id="ytWrap"><div id="ytPlayer"></div></div>

<script>
const YOUTUBE_VIDEO_ID="lplaAZBWiqY";

const stage=document.getElementById("stage");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");

const page1=document.getElementById("page1");
const page2=document.getElementById("page2");
const video=document.getElementById("valVideo");
const tapStart=document.getElementById("tapStart");

/* NO button moves */
function moveNo(){
  const s=stage.getBoundingClientRect();
  const b=noBtn.getBoundingClientRect();
  const x=Math.random()*(s.width-b.width-20)+10;
  const y=Math.random()*(s.height-b.height-20)+10;
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";
  noBtn.style.transform="none";
}
noBtn.addEventListener("mouseenter",moveNo);
noBtn.addEventListener("pointerdown",e=>{e.preventDefault();moveNo();});

/* YOUTUBE MUSIC */
let ytPlayer=null;

function loadYT(){
  if(window.__ytLoaded) return;
  window.__ytLoaded=true;
  const tag=document.createElement("script");
  tag.src="https://www.youtube.com/iframe_api";
  document.head.appendChild(tag);
}

function playYouTubeMusic(){
  loadYT();

  const start=()=>{
    if(!window.YT||!YT.Player){
      setTimeout(start,200);
      return;
    }

    if(!ytPlayer){
      ytPlayer=new YT.Player("ytPlayer",{
        videoId:YOUTUBE_VIDEO_ID,
        width:"360",
        height:"240",
        playerVars:{
          autoplay:1,
          controls:0,
          loop:1,
          playlist:YOUTUBE_VIDEO_ID,
          playsinline:1
        },
        events:{
          onReady:()=>{
            ytPlayer.setVolume(80);
            ytPlayer.playVideo();
          }
        }
      });
    } else {
      ytPlayer.playVideo();
    }
  };

  start();
  setTimeout(()=>{try{ytPlayer.playVideo()}catch{}},800);
}

/* START EXPERIENCE */
async function startExperience(){
  page1.style.display="none";
  page2.style.display="flex";

  video.load();

  try{ await video.play(); }catch{}

  video.muted=false;
  video.volume=1;

  let ok=true;
  try{ await video.play(); }
  catch{
    ok=false;
    video.controls=true;
  }

  playYouTubeMusic();

  if(!ok) tapStart.style.display="flex";
}

yesBtn.addEventListener("click",startExperience);

tapStart.addEventListener("pointerdown",async()=>{
  tapStart.style.display="none";
  try{video.muted=false;await video.play();}catch{tapStart.style.display="flex";}
  try{ytPlayer&&ytPlayer.playVideo();}catch{}
});
</script>

</body>
</html>

